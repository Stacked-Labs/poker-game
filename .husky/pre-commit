#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

echo "Running pre-commit hook..."
cd "$(git rev-parse --show-toplevel)" # Navigate to project root
echo "Current directory: $(pwd)"

# Skip build in CI/GitHub Actions due to network restrictions
if [ -n "$CI" ]; then
    npm run lint
else
    npm run lint && npm run build
fi
